\begin{tikzpicture}
    \begin{umlseqdiag}
        \umlactor[class=User]{\user}
        \umlobject[class=TestDeckPage]{\deckpage}
        \umlobject[class=StudySystem]{\ssystem}
        \umlobject[class=TestCardPage]{\testpage}
        \umlobject[class=Controller]{\control}
        \umlobject[class=Logic]{\logic}
        \umlobject[class=Persistence]{\pers}
        
        \begin{umlcall}[op=Will Deck testen, type=synchron]{\user}{\deckpage}
            %
            % Get Data
            %
            \begin{umlcall}[op=getDeck(), type=synchron, return=Deck]{\deckpage}{\control}
                \begin{umlcall}[op=getDeck(), type=synchron, return=Deck]{\control}{\logic}
                    \begin{umlcall}[op=getDecks(), type=synchron, return=Set<Deck>]{\logic}{\pers}
                    \end{umlcall}
                \end{umlcall}
            \end{umlcall}



            %
            % Get First Card
            %
            \begin{umlcall}[op=getNextCard(), type=synchron, return=Card]{\deckpage}{\ssystem}
            \end{umlcall}


            %
            % Test card
            %
            \begin{umlcall}[op=startTests(Card), type=synchron, dt=5]{\deckpage}{\testpage}
            \end{umlcall}
        \end{umlcall}


        %
        % On User Answer
        %
        \begin{umlfragment}[type=opt, label=selbst bewertet, inner xsep=12, fill=green!10]
            \begin{umlcall}[op=Antwort aufdecken, type=synchron]{\user}{\testpage}
                \begin{umlcallself}[op=showAnswer(), type=synchron]{\testpage}
                \end{umlcallself}
            \end{umlcall}
        \end{umlfragment}
        \begin{umlcall}[op=Antwort abschicken/best√§tigen, type=synchron, dt=5]{\user}{\testpage}
            \begin{umlcall}[op=onAnswer(boolean), type=synchron, dt=5]{\testpage}{\deckpage}
            \end{umlcall}

            \begin{umlcall}[op=giveAnswer(boolean), type=synchron]{\deckpage}{\ssystem}
            \end{umlcall}
            \begin{umlcall}[op=getNextCard(), type=synchron, return=Card]{\deckpage}{\ssystem}
            \end{umlcall}
            \begin{umlcall}[op=startTests(Card), type=synchron, dt=5]{\deckpage}{\testpage}
            \end{umlcall}
        \end{umlcall}

        %\umlcreatecall[class=E, x=8]{\user}{e}
    \end{umlseqdiag}
\end{tikzpicture}